def divide_integer(dividend, divisor):
    temp = divisor
    quotient = 1

    while temp < dividend:
        temp <<= 1
        quotient <<= 1

    if temp > dividend:
        temp >>= 1
        quotient >>= 1

        return quotient + divide_integer(dividend - temp, divisor)

    return quotient


import unittest


class TestSmartDiv(unittest.TestCase):
    def test_div(self):
        self.assertEquals(divide_integer(40, 5), 8)
        self.assertEquals(divide_integer(40, 4), 10)
